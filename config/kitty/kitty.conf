# Kitty Terminal Configuration
# Ultimate Ricing Setup for Arch Linux
# Tokyo Night Theme with Custom Enhancements

# =================================
# FONT CONFIGURATION
# =================================

# Font family
font_family      JetBrainsMono Nerd Font
bold_font        JetBrainsMono Nerd Font Bold
italic_font      JetBrainsMono Nerd Font Italic
bold_italic_font JetBrainsMono Nerd Font Bold Italic

# Font size
font_size 12.0

# Adjust line height (default is 1.0)
adjust_line_height  110%

# Adjust column width (default is 1.0)
adjust_column_width 95%

# Disable ligatures in cursor (0 = never, 1 = cursor, 2 = always)
disable_ligatures never

# Font features
font_features JetBrainsMonoNF-Regular +cv01 +cv02 +cv03 +cv05 +cv09 +cv10 +cv16 +cv17 +cv18 +ss04
font_features JetBrainsMonoNF-Bold +cv01 +cv02 +cv03 +cv05 +cv09 +cv10 +cv16 +cv17 +cv18 +ss04
font_features JetBrainsMonoNF-Italic +cv01 +cv02 +cv03 +cv05 +cv09 +cv10 +cv16 +cv17 +cv18 +ss04
font_features JetBrainsMonoNF-BoldItalic +cv01 +cv02 +cv03 +cv05 +cv09 +cv10 +cv16 +cv17 +cv18 +ss04

# =================================
# CURSOR CUSTOMIZATION
# =================================

# Cursor shape (block, beam, underline)
cursor_shape block

# Cursor beam thickness
cursor_beam_thickness 1.5

# Cursor underline thickness
cursor_underline_thickness 2.0

# Cursor blink interval
cursor_blink_interval -1

# Stop blinking cursor after specified time (0 to disable)
cursor_stop_blinking_after 15.0

# =================================
# SCROLLBACK
# =================================

# Number of lines of history
scrollback_lines 10000

# Program with which to view scrollback
scrollback_pager less --chop-long-lines --RAW-CONTROL-CHARS +INPUT_LINE_NUMBER

# Wheel scroll multiplier
wheel_scroll_multiplier 5.0

# Touch scroll multiplier
touch_scroll_multiplier 1.0

# =================================
# MOUSE
# =================================

# Mouse hide wait time
mouse_hide_wait 3.0

# URL style
url_color #7aa2f7
url_style curly

# Open URL action
open_url_with default

# URL prefixes
url_prefixes http https file ftp gemini irc gopher mailto news git

# Detect URLs under mouse cursor
detect_urls yes

# Copy on select
copy_on_select no

# Strip trailing spaces when copying to clipboard
strip_trailing_spaces never

# Select by word characters
select_by_word_characters @-./_~?&=%+#

# Click interval for double click
click_interval -1.0

# Focus follows mouse
focus_follows_mouse no

# Pointer shape when hovering over links
pointer_shape_when_grabbed arrow
pointer_shape_when_dragging beam

# =================================
# PERFORMANCE TUNING
# =================================

# Delay between screen updates
repaint_delay 10

# Delay before input from the program running in terminal is processed
input_delay 3

# Sync to monitor refresh rate
sync_to_monitor yes

# =================================
# TERMINAL BELL
# =================================

# Enable audio bell
enable_audio_bell no

# Visual bell duration
visual_bell_duration 0.0

# Window alert on bell
window_alert_on_bell yes

# Bell on tab
bell_on_tab yes

# Command to run when a bell occurs
command_on_bell none

# =================================
# WINDOW LAYOUT
# =================================

# Remember window size
remember_window_size  yes
initial_window_width  640
initial_window_height 400

# Window borders
draw_minimal_borders yes
window_border_width 0.5pt
window_margin_width 0
window_padding_width 8

# Placement strategy
placement_strategy center

# Active window border color
active_border_color #7aa2f7

# Inactive window border color  
inactive_border_color #414868

# Bell border color
bell_border_color #f7768e

# Inactive text alpha
inactive_text_alpha 1.0

# Hide window decorations
hide_window_decorations no

# Resize debounce time
resize_debounce_time 0.1

# Resize draw strategy
resize_draw_strategy static

# Resize in steps
resize_in_steps no

# Confirm OS window close
confirm_os_window_close 0

# =================================
# TAB BAR
# =================================

# Tab bar edge (top or bottom)
tab_bar_edge bottom

# Tab bar margin
tab_bar_margin_width 0.0

# Tab bar margin height
tab_bar_margin_height 0.0 0.0

# Tab bar style
tab_bar_style powerline

# Tab bar alignment
tab_bar_align left

# Minimum number of tabs
tab_bar_min_tabs 2

# Tab activity symbol
tab_activity_symbol none

# Tab title template
tab_title_template "{fmt.fg.red}{bell_symbol}{activity_symbol}{fmt.fg.tab}{title}{fmt.fg.default}"

# Active tab title template
active_tab_title_template none

# Tab separator
tab_separator " â”‡"

# Tab powerline style
tab_powerline_style angled

# =================================
# COLOR SCHEME - TOKYO NIGHT
# =================================

# Basic colors
foreground              #c0caf5
background              #1a1b26
selection_foreground    #c0caf5
selection_background    #33467c

# Cursor colors
cursor                  #c0caf5
cursor_text_color       #1a1b26

# URL underline color when hovering
url_color               #7aa2f7

# Kitty window border colors
active_border_color     #7aa2f7
inactive_border_color   #414868
bell_border_color       #f7768e

# OS Window titlebar colors
wayland_titlebar_color  system
macos_titlebar_color    system

# Tab bar colors
active_tab_foreground   #1a1b26
active_tab_background   #7aa2f7
inactive_tab_foreground #787c99
inactive_tab_background #2f3549
tab_bar_background      #1a1b26

# Colors for marks (marked text in the terminal)
mark1_foreground #1a1b26
mark1_background #7aa2f7
mark2_foreground #1a1b26
mark2_background #9ece6a
mark3_foreground #1a1b26
mark3_background #e0af68

# The 16 terminal colors

# Normal colors
color0 #1d202f
color1 #f7768e
color2 #9ece6a
color3 #e0af68
color4 #7aa2f7
color5 #bb9af7
color6 #7dcfff
color7 #a9b1d6

# Bright colors
color8 #414868
color9 #f7768e
color10 #9ece6a
color11 #e0af68
color12 #7aa2f7
color13 #bb9af7
color14 #7dcfff
color15 #c0caf5

# Extended colors for 256-color support
color16 #ff9e64
color17 #db4b4b

# =================================
# ADVANCED FEATURES
# =================================

# Shell program
shell .

# Editor
editor .

# Close on child death
close_on_child_delay -1

# Allow remote control
allow_remote_control no

# Listen on socket
listen_on none

# Update check interval
update_check_interval 24

# Startup session
startup_session none

# Clipboard control
clipboard_control write-clipboard write-primary

# File transfer confirmation
file_transfer_confirmation_bypass

# Allow hyperlinks
allow_hyperlinks yes

# Shell integration
shell_integration enabled

# Term variable
term xterm-kitty

# =================================
# KEYBOARD SHORTCUTS
# =================================

# Clipboard
map ctrl+shift+c copy_to_clipboard
map ctrl+shift+v paste_from_clipboard
map ctrl+shift+s paste_from_selection
map shift+insert paste_from_selection
map ctrl+shift+o pass_selection_to_program

# Scrolling
map ctrl+shift+up scroll_line_up
map ctrl+shift+k scroll_line_up
map ctrl+shift+down scroll_line_down
map ctrl+shift+j scroll_line_down
map ctrl+shift+page_up scroll_page_up
map ctrl+shift+page_down scroll_page_down
map ctrl+shift+home scroll_home
map ctrl+shift+end scroll_end
map ctrl+shift+h show_scrollback

# Window management
map ctrl+shift+enter new_window
map ctrl+shift+n new_os_window
map ctrl+shift+w close_window
map ctrl+shift+] next_window
map ctrl+shift+[ previous_window
map ctrl+shift+f move_window_forward
map ctrl+shift+b move_window_backward
map ctrl+shift+` move_window_to_top
map ctrl+shift+r start_resizing_window
map ctrl+shift+1 first_window
map ctrl+shift+2 second_window
map ctrl+shift+3 third_window
map ctrl+shift+4 fourth_window
map ctrl+shift+5 fifth_window
map ctrl+shift+6 sixth_window
map ctrl+shift+7 seventh_window
map ctrl+shift+8 eighth_window
map ctrl+shift+9 ninth_window
map ctrl+shift+0 tenth_window

# Tab management
map ctrl+shift+right next_tab
map ctrl+shift+left previous_tab
map ctrl+shift+t new_tab
map ctrl+shift+q close_tab
map ctrl+shift+. move_tab_forward
map ctrl+shift+, move_tab_backward
map ctrl+shift+alt+t set_tab_title

# Layout management
map ctrl+shift+l next_layout

# Font sizes
map ctrl+shift+equal change_font_size all +2.0
map ctrl+shift+plus change_font_size all +2.0
map ctrl+shift+kp_add change_font_size all +2.0
map ctrl+shift+minus change_font_size all -2.0
map ctrl+shift+kp_subtract change_font_size all -2.0
map ctrl+shift+backspace change_font_size all 0

# Miscellaneous
map ctrl+shift+f11 toggle_fullscreen
map ctrl+shift+f10 toggle_maximized
map ctrl+shift+u kitten unicode_input
map ctrl+shift+f2 edit_config_file
map ctrl+shift+escape kitty_shell
map ctrl+shift+a>m set_background_opacity +0.1
map ctrl+shift+a>l set_background_opacity -0.1
map ctrl+shift+a>1 set_background_opacity 1
map ctrl+shift+a>d set_background_opacity default
map ctrl+shift+delete clear_terminal reset active

# Select and act on visible text
map ctrl+shift+e kitten hints
map ctrl+shift+p>f kitten hints --type path --program -
map ctrl+shift+p>shift+f kitten hints --type path
map ctrl+shift+p>l kitten hints --type line --program -
map ctrl+shift+p>w kitten hints --type word --program -
map ctrl+shift+p>h kitten hints --type hash --program -
map ctrl+shift+p>n kitten hints --type linenum
map ctrl+shift+p>y kitten hints --type hyperlink

# =================================
# ENVIRONMENT VARIABLES
# =================================

# Set environment variables
env TERM=xterm-kitty
env COLORTERM=truecolor

# =================================
# PLATFORM SPECIFIC SETTINGS
# =================================

# Linux specific
linux_display_server auto

# Hide mouse cursor when typing
hide_mouse_when_typing yes

# Enable wayland decorations
wayland_enable_ime yes

# =================================
# WINDOW RULES
# =================================

# Background opacity
background_opacity 0.95

# Dynamic background opacity
dynamic_background_opacity no

# Background image
background_image none

# Background image layout
background_image_layout tiled

# Background image linear
background_image_linear no

# Background tint
background_tint 0.0

# Dim opacity
dim_opacity 0.75